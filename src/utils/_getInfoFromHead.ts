export default (res: Response) => {
	const r = res.headers.get("X-Ratelimit-Reset");
	const d = new Date();

	d.setFullYear(parseInt(r!.slice(6, 10)));
	d.setMonth(parseInt(r!.slice(3, 5)) - 1);
	d.setDate(parseInt(r!.slice(0, 2)));
	d.setHours(
		parseInt(r!.slice(11, 13)),
		parseInt(r!.slice(14, 16)),
		parseInt(r!.slice(17))
	);

	const requests = parseInt(
		res.headers.get("X-Ratelimit-Remaining")
			? res.headers.get("X-Ratelimit-Remaining")!
			: "0"
	);

	const reset = d.getTime();

	return { requests, reset };
};
