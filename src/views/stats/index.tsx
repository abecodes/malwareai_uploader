import * as React from "react";

import Time from "../../components/time";

import { StoreContext } from "../../store";
import _getInfoFromHead from "../../utils/_getInfoFromHead";
import "./stats.css";

export default () => (
	<div id="stats">
		<StoreContext.Consumer>
			{({
				apiKey: [apiKey, setApiKey],
				bandwidth: [bandwidth, setBandwidth],
				requests: [requests, setRequests],
				reset: [reset, setReset],
				files: [files, setFiles],
			}) => (
				<>
					{apiKey ? <Time requests={requests} reset={reset} /> : null}
					{files.length ? (
						<p>
							Uploaded: {files.reduce((curr, next) => curr + next.size, 0)}mb
						</p>
					) : null}
				</>
			)}
		</StoreContext.Consumer>
	</div>
);
